# 1.1 数据的表示

### 1.1.2 进制的转换

掌握各种数转换

十进制转换二进制  B表示二进制   1011B

十进制转换十六进制 0X表示十六进制   0X5e



其他转十进制 按权展开法

100B = 1 * 2^2 + 0 * 2^1 +0 * 2^0 = 4

100.1B= 1 * 2^2 + 0 * 2^1 +0 * 2^0 + 1*2 ^ -1 

小数点左边 次方数从0开始，右边从-1开始

十六进制与以上相同，不过将2换成16



十进制转其他 取余法

10/2=5 0

5/2=2  1

2/2=1  0

1/2=0  1

商为0（除尽时）停止，余数从下往上写 1010



二转8  8进制中最大的为7对应 111（421），所以一对三关系如下

010 001 100

2 1 6



二转16  16进制中最大的为15对应 1111（8421），所以一对四关系如下

0101 1001 1010

5 9 A



### 1.1.3 码制

掌握 各种码制的区别，码制的表示范围而

高位留一位或两位当做符号位，0表示正数，1表示负数

原码：第一位为符号位，其余为数据位  1111=-7                数码个数：2^n-1 

反码：正数反码与原码一致，负数除符号位外按位取反     数码个数：2^n-1 

补码：正数补码与原码一致，负数补码为反码+1                2^n 人为规定 

注意：补码中 100认作 -4；1000认作-8，所以多了一个。000=0不变，所以三位补码（带符号位）的取值范围为 3 至 -4

000=0  001=1 010=2 011=3

100=-4  101=-1 110=-2  111=-3

移码：补码符号位取反  人为设定与补码一样



### 1.1.4 浮点数表示

掌握格式、各个部分意义

N=尾数*基数^指数

指数=阶码 

阶码的符号为阶符 可决定数是正数还是小数 10^2=100 10^-2= 百分之一

尾数的符号为数符 可决定数的正负

1.25*10^6 

1. 尾数一般用补码表示，阶码用移码表示
2. 阶码位数决定数的表示范围，阶码越大范围越大
3. 尾数位数决定有效精度，位数越多精度越高
4. 对阶时小数向大数看起  例如 ：1.25 * 10 ^ 2+1.25 * 10 ^ 3 先转换为 0.125 * 10 ^ 3+1.25 * 10 ^ 3
5. 对阶中小数尾数向右移，参照4中的例子

### 1.1.5 逻辑运算

1. 非 
2. 乘除
3. 加减
4. 大于等于 小于等于 大于 小于
5. 等于
6. 与
7. 或

以上为优先级，有括号先算括号

逻辑运算 与 或（有一个为真则为真） 非 异或（都为真、假则为假，一个真一个假则为真）



# 1.2 校验码

掌握各自的特尔底单和原理



码距：两个二进制数之间的最小变化，正常数字排列下一般为1  00,01,10,11 

00与01之间只有一位变化 00与11之间有两位变化，多种码距下取最小所以码距为1

假如定义 00表示女 11表示男，则合法码字只有这两个，此时码距为2，因为两个数字都进行变化



### 1.2.1 奇偶校验码

奇校验：信息位+校验位中有奇数个1

偶校验：信息位+校验位中有偶数个1

校验位可在前也可在后，长度为一位

例如男=0，女=1

奇校验下 男=01 女=10

偶校验下 男=00 女=11

如果偶校验下，发送00接受11也会判断为对，所以有一定局限性且不具备纠错（重点，只考过这个）

扩展奇偶校验只能校验有 奇数个信息位出错，

例如 偶数校验情况下  1111（最后一位为校验位）

出错一位为1101此时检查为错

出错两位为1001此时为对



### 1.2.2 CRC循环冗余校验

特点：可检错不可纠错。在k为信息码之后拼接r为校验码。使用模二除法，如果余数为0则正确，否则则错误

只需要记这个概念



### 1.2.3 海明码（重点）

特点：即可检错也可纠错

校验位位数公式：2^k>=n+k+1

校验位位置：1 2 4 8 16 32,  2的次方依次推

j1,j2,d3,j4,d5,d6,d7,j8,d9  这样比较好数  数据位 dn 的校验码由 jx+jy+..组成 其中 j的下标（x、y等）之和等于n

j1,j2,d3,j4,d5,d6,d7,j8,d9  第n为数据码由第x位校验码+第y位校验码+...  机行校验，其中校验码的位置（x、y等）之和等于n

假如数据位在第5位，则需要第1位和第4位校验码进行校验 1+4=5   d5由j1+j4校验

纠错逻辑不考



所有校验码都会扩大码距，以偶校验为例 校验位放末尾： 1100的下一位为1111，因为第三位+1后校验位也需要调整，所以校验码的码距一定大于1,。正常数字顺序码距为1





# 1.3 CPU组成

掌握各个部件功能

计算机构成：主机+外设 

外设：输入、输出设备、辅助存储设备（外存，硬盘等）

主机：主存储器（主存、内存）、CPU（中央处理单元。运算器+控制器）

数据总线（传数据）、控制总线（传控制信号）、地址总线（传地址）



运算器：算数逻辑单元（负责计算）、累加寄存器（提供工作区）、数据缓冲寄存器（读写内存、中转+运输）、状态条件寄存器（计算过程中的特殊状态，如溢出、进位存储在此处，代码中的控制标志也可存储，所以此不部分既可以归运算也可归计算）

控制器：程序计数器PC（存储下一条执行指令的地址）、指令寄存器IR（将指令进行存储）、指令编译器（将指令编译、解析）、时序部件（时序控制信号）

需要记住组成部分



# 1.4 寻址方式

指令：操作码（OP）+地址码（A1，A2...）

立即寻址方式  ：操作码+操作数，直接使用这个操作数不用寻址，比如代码写死

直接寻址方式 ：操作码+地址

间接寻址方式 : 操作码+地址，该地址中并不是数据，还是一个地址再次进行寻址

寄存器寻址方式：操作码+地址，地址在寄存器中对应一个数据

寄存器间接寻址方式： 操作码+地址，地址在寄存器中对应一个地址，对该地址在此寻址



# 1.5 CISC与RISC

掌握区别

cisc（复杂指令集）：每做一个操作则添加一条指令，指令数量多，各个指令之间使用频率差距大，可变长格式，直接寻址方式多种多样，通过微程序控制（微码）,开发时间长

risc（精简指令集）：数量少，使用频率差距小，大部分为单周期指令，大部分操作寄存器 少部分操作内存，定长格式，直接寻址方式少，多使用寄存器寻址，以硬件布线逻辑控制为主，适合采用流水线，优化编译，有效支持高级语言



# 1.6 流水线技术

掌握理论+计算

取值-分析-执行

操作有a-b-c，同时指令三个操作

并行：aaa在取值器中同时进行

准并行：第一次 取值器进行取值部分 a，执行完毕后第一次进入器执行b操作时，取值器操作第二次的a。三次的a操作在取值器中还是串行操作的

流水线为准并行，保证同一时刻各个部件不空闲

取值 a1 a2  a3

分析      b1  b2  b3

执行             c1  c2  c3



流水线周期（t）：所有环节中用时最大的那个值，比如 a使用2s b使用3s c使用5s 则周期为5s

执行时间计算

​	理论公式：（t1+t2+t3+...+tk）+(n-1)*t   t1为第一个节点使用时间，t2为第二个以此类推。t为流水线周期

​    实践公式：t * k +（n-1）* t  与理论公式区别为将所有节点使用时间都替换为流水线周期。 考试有限使用理论公式，得不到答案使用实践公式。k为节点数

吞吐率：单位时间内完成的任务量

吞吐率计算：指令条数/流水线执行时间 使用理论公式

最大吞吐率：1/t



例：一个指令 a使用2s b使用3s c使用5s ，执行十次

流水线周期为5s

理论公式： （2+3+5）+（10-1）*5=55

实践公式： 5*3+（10-1） *5=60

吞吐率： 10/55  最大吞吐率=1/t



# 1.7 存储系统

### 1.7.1 层次化存储结构

cpu（bit，寄存器）-cache（M）-内存（8g）-外存（500g）

容量越小成本越高                    ->             容量越大成本越低

常用的数据存放在cache中，cache中的数据是内存中常用部分的副本

局部性，可以看做外存中是整体，上一层是下一层的一部分，例内存中的数据是外存的一部分；cache中的数据是内存中的一部分。

时间局部性：刚被访问的内容，马上可能再次访问

空间局部性：刚被访问的内容，临近的空间很快被访问

虚拟存储器：内存+外存

三级存储体系：cache+内存+外存



存储器分类

按位置：内存、外存

按内容：相连存储器（1存在第一位，3存在第3位）

按地址存取：随机存取存储器（内存），顺序存取存储器（磁带）、直接存储存储器（硬盘，结合前两种，磁盘头寻找存放地址是随机的，当找到第一个地址后后续写入内容是连续的）

工作方式：随机存取存储器ram（断电丢失）、只读存储器rom（BIOS，断电不丢）



### 1.7.2 Cache

解决内存和cpu存取速度不匹配的问题，寄存器存储速度最快，除此之外cache最快

平均周期计算   （h*t1+（1-h） * t2）/次数

h为cache访问命中率，即cpu访问cache时数据刚好在cache中的概率，t1命中时存取需要的实际按，t2未命中时存取需要的实际按



地址映射由硬件直接完成

例 内存 1GB 划分2048页 每页512KB  cache 8MB 16页 每页512KB

直接相连映像：将硬盘划为 2048/16=128个块，每个块的第一页对应cache第一页 ，第二页对应cache第二页。此种方法冲突率较高，第一块的第一页加载到cache之后其他127个块无法加载

全相连映像：内存的任意页可存发放在cache中的任意页。冲突降低，复杂度高，cache中任意页要对应硬盘中的所有页，例cache页1映射硬盘中0-2047页，页2也是...

组相连映像：将硬盘中2048页以两页为一组，组中分为第一页、第二页。cache中分两组，第一组映射第一页，第二组映射第二页（一半映射第一页，一半映射第二页。cache第一组中的页可映射硬盘中任意组的第一页）。例硬盘第一组的第一页，在cache中只有一半能映射到，因为另外一半映射了第二页。冲突率在二者之间，复杂度在二者之间



### 1.7.3 主存地址计算

存储单元各个机器不一致，默认8bit。8bit=1字节，可以理解为一个存储单元在硬盘中为一行。

存储单元个数的计算：最大地址-最小地址+1

总容量：存储单元个数*存储单元大小

存储单元（execl中对的一行），存储单元大小（一行有几个格子，一个格子为1bit）



片数：n个存储单元组成一片

总片数=总容量/每片容量





### 1.8 输入与输出技术（I/O）

掌握各自的特点

数据传输控制方法：

程序控制（查询）方式:无条件传送和程序性查询方式（CPU每次做完一件事问一下各个程序）。方法简单，硬件开销小，但I/O能力不高，严重影响cpu利用率

程序中断方式（鼠标、键盘）：CPU持续做自己的事情，各个程序需要完成IO后通知cpu，CPU无需等待提高了传输请求的相应速度

DMA方式（直接内存存取，硬盘时候该方式）：比前两种高效，为处理高速、批量数据交换而设置。DMAC向总线裁决逻辑提出总线请求；CPU处理完当前总线周期（注意总线周期）后释放总线控制权。此时DMA相应通过DMAC通知IO开始DMA传输。整个过程cpu不参与

通道发放时（硬件技术，不考）

IO处理机（硬件技术，不考）

注：五种方式从上往下效率越来越高

区别：第一类类似老师（CPU）将一个知识点问所有学生（程序）学会了么

第二类老师一直讲，讲完之后，学生主动问哪里不会

第三类老师负责讲课，将解答任务交给助教，助教来完成学生对的问题



中断处理过程：

1. CPU无需等待也不必查询IO状态
2. 当IO系统准备好以后，发出中断请求信号通知CPU
3. CPU接受请求之后，保存正在执行程序的现场（保存现场，将打断程序的参数存入一个栈中），将打断程序当前位置设为断点
4. 通过中断向量表记录io请求服务程序的入口，执行io请求的数据交换
5. io请求完成后，返回打断程序（恢复现场，栈弹出参数）



### 1.9 总线

掌握各自的特点

掌握特点、分类，考的频率低

总线：分时双工，即可接收也能发送。一个总线中同一时刻允许一个设备发送，多个设备接收。

数据总线（data bus）：cpu与ram之间来回传送需要处理或存储的数据

地址总线（address bus）：用来指定ram中存储数据的地址

控制总线（control bus）：将微处理器控制单元的信号传送到周边设备



并行总线：多条总线、可靠性高成本高适合短距离传输

串行总线：单挑总线、可靠性低成本低适合长距离传输



总线由于分时双工的特点肯定不如全时双工的效率高



### 1.10 可靠性

1-2分，并不是每次都考

可靠性指标：平均无故障时间（MTTF，正常运行的平均时间）、平均故障修复时间（MTTR，出问题修复的平均时间）、平均故障间隔时间（MTBF，两次故障间隔的平均时间）

系统可用性=MTTF/（MTTR+MTBF）*100%

可靠性=MTTF/（1+MTTF） 无明确来源，但是要考



一定要会算下面的可靠性

串联系统与并联系统

串联系统：a-b-c-d。所有环节都可靠才可靠。整体可靠性=所有环节可靠性相乘。比如a * b* c * d

并联系统：三个相同的环节中有一个环节可靠即可。

a-b-c-d

a-b-c-d

a-b-c-d

可靠性：1-（1-a1）*（1-a2） * （1-a3）....

可靠性为1，减去a1的不可靠 * a2的不可靠 * a3的不可靠，将可靠性反向减掉不可靠求得

混合模型（串行+并行）

​     b1  c1

a   b2   c2

​      b3

将a单独计算可靠性、b单独计算可靠性、c单独计算可靠性后看做串联相乘即可



### 1.11 性能指标

考的不多，但是比例较大，2-3分

字长 ：32bit=2^32=G

主频，单位时间内的的脉冲次数  CPU时钟周期 1s/主频 这两项映像计算速度

存取速度：从开始存到存结束的时间

CPI：每条指令占据的时钟周期

IPC：每个时钟周期可完成的指令条数

MIPS：百万指令的时间

MFLOPS：浮点数操作/（执行时间*10^6）

负载：一台电脑可以同时处理的请求数



存在指令

​           a   b   c

比例    0.35   0.45  0.2

CPI     4   2   6

平均cpi计算= 0.35 * 4+0.45 * 2 + 0.2 * 6



