# 3、数据库系统

### 3.1 数据库的基本概念

体系结构：

集中式数据库，单机系统

CS结构，客户端+数据库类似于sqlserver和ssms

分布式数据库：内容分散，物理分布、逻辑分布，存在不同的电脑上，保持除数据外的逻辑独立性和物理独立性。节点独立管理（自治），设有集中控制机制协调各节点。适当增加冗余，提高可靠性、可用性，提高性能。全局一致性，可串行可并行

并行数据库 共享/无共享内容



分布式数据库透明性

分片透明（逻辑上）：不需要关心表如何分片、分块

复制透明 ：不需要关心数据在各个节点之间的复制情况

位置透明（物理上）：不需要关心数据在何处（物理位置），在哪个节点都一样 

局部映像透明性（逻辑透明）：最低层次透明。不需要了解局部的逻辑结构、数据模型，比如使用什么操纵语言，系统自动转换



三级模式结构 （频繁）

内模式（数据库文件、物理级）（内模式、存储模式）

概念模式-内模式映射关系：物理独立性。当物理文件改变时，应用结构不需要改变只需要改变映射关系。参照数据库文件改变路径，需要在数据库管理器中重新指定路径

概念模式（表级）（概念模式、模式）

外模式-概念式映射：保持逻辑独立性，表修改了只需要修改视图的生成逻辑，视图不用修改（参照数据库中的视图）

外模式(视图级)（外模式、用户模式）





数据仓库（与数据挖掘中的概念一致，对老数据归档提供给数据挖掘分析使用）

考的不多 

面向主题：按主题组织，比如按产品分类

集成：消除了数据的不一致性，提供整个企业一致的全局信息

相对稳定性（非易失）：一般指进行查询分析，少有修改和删除（几乎不删除）

反应历史变化（随时间变化）：分析各个时间的数据，对未来有分析和预测



OLAP 联机分析，比如数据仓库，主要用作分析

OLTP 联机事务，比如常用数据库，主要操作增删改查等操作



### 3.2 数据库的设计过程

1分左右

需求分析：当前需求、未来需求、处理需求。产物：数据流图（数据来龙去脉）、数据字典（数据项说明）、需求说明书

概念结构设计：E-R图

逻辑结构设计：数据模型-关系模式。 概念转逻辑时有转换规则和规范化理论

物理设计：考略聚簇索引（比如主键）、 硬件、存放位置等





### 3.3 概念设计阶段

概念设计过程，需求分析后抽象成E-R图

1. 抽象数据
2. 设计局部ER模型
3. 合并局部模型并消除冲突
   1. 多个局部一次性合成
   2. 逐步集成，使用累加的方式一次集成两个
4. 消除冲突（重点。针对同一个对象，不同对象不算冲突）
   1. 属性冲突：是属性域冲突（取值范围）、属性取值冲突（只能取某几个数）
   2. 命名冲突：同名异义、异名同义
   3. 结构冲突：抽象的层次不一致。比如员工抽象成实体和抽象成一个字段、抽象出来的字段数量不一致、字段的排列顺序不一致等
5. 重构优化，消除冗余























